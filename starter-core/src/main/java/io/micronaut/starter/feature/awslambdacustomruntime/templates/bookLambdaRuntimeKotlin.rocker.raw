@import io.micronaut.starter.application.Project

@args (
Project project
)

@if (project.getPackageName() != null) {
package @project.getPackageName()
}

import com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent
import com.amazonaws.services.lambda.runtime.events.APIGatewayProxyResponseEvent
import io.micronaut.function.aws.runtime.AbstractMicronautLambdaRuntime
import java.net.MalformedURLException

class BookLambdaRuntime : AbstractMicronautLambdaRuntime<APIGatewayProxyRequestEvent?, APIGatewayProxyResponseEvent?, Book?, BookSaved?>() {
    @@Override
    protected fun createHandler(vararg args: String?): Object {
        return BookRequestHandler()
    }

    companion object {
        fun main(args: Array<String?>?) {
            try {
                BookLambdaRuntime().run(args)
            } catch (e: MalformedURLException) {
                e.printStackTrace()
            }
        }
    }
}